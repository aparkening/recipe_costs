<%= form_for recipe, url: [user, recipe] do |f| %>

  <div class="form-group">
    <%= f.label :name, 'Name*' %>
    <%= f.text_field :name, class:'form-control', required:true %>
  </div>
  <div class="form-group">
    <%= f.label :servings %>
    <%= f.text_field :servings, class:'form-control' %>
  </div>

  <div class="form-group">
    <h3>Ingredients</h3>
    <%= f.fields_for :recipe_ingredients do |ing| %>    
      <%= ing.collection_select :ingredient_id, Ingredient.all, :id, :name, {include_blank: true} %>

      <%= ing.label :ingredient_amount, 'Size' %>
      <%= ing.text_field :ingredient_amount, placeholder:'example: 5' %>
      
      <%= ing.label :ingredient_unit, 'Unit' %>
      <%= ing.text_field :ingredient_unit, placeholder:'example: lb' %>

      <%= ing.check_box :_destroy %> <%= f.label :_destroy, value: "Remove"%>
    <% end %>
  </div>

  <div class="form-group">
    <%= f.submit class:'btn btn-lg btn-primary btn-block' %>
  </div>
<% end %>
